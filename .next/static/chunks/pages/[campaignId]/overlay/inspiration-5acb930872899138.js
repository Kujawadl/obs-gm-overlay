(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[627],{58855:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(37876),i=n(89099),a=n(2312),o=n(77328),s=n.n(o),l=n(65965),c=n(54587),u=n.n(c),d=n(74110);function p(e){let{player:t,campaign:n,scale:i=.8}=e,{cooldownTimeRemaining:o,percentComplete:s}=(0,d.$t)({player:t,campaign:n}),c=t.isGM||!t.characterName?t.playerName:t.characterName,p=t.inspiration;return(0,r.jsxs)(a.A,{component:"div",sx:{position:"relative",textAlign:"center",height:154,width:132,transform:"scale(".concat(100*i,"%)")},children:[(0,r.jsx)(a.A,{component:"div",sx:{top:0,bottom:0,left:0,right:0,overflow:"hidden",position:"absolute",filter:o>0?"grayscale(100%)":void 0},children:(0,r.jsx)(u(),{src:"/badge.png",alt:"background",layout:"fill"})}),(0,r.jsx)(a.A,{component:"div",sx:{paddingTop:4,position:"relative",fontSize:48,fontWeight:700},children:o>0?(0,r.jsx)(l.A,{variant:"determinate",value:s}):p}),(0,r.jsx)(a.A,{component:"div",sx:{fontSize:24,fontWeight:700,position:"absolute",left:0,right:0,bottom:18,color:o>0?"text.secondary":"text.primary"},children:c})]})}var f=n(57982);function m(){var e,t,n;let{campaignId:o}=(0,i.useRouter)().query,{data:l}=(0,f.N$)({variables:{id:o}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"".concat(null!=(n=null==l||null==(e=l.campaign)?void 0:e.name)?n:"Campaign"," Inspiration | OBS GM Overlay")})}),(0,r.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:null==l||null==(t=l.campaign)?void 0:t.players.map(e=>{var t;return(null==l||null==(t=l.campaign)?void 0:t.gmInspiration)||!e.isGM?(0,r.jsx)(p,{player:e,campaign:l.campaign},e.id):null})})]})}},65965:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var r=n(28888),i=n(14232),a=n(69241),o=n(13323),s=n(38993),l=n(57947),c=n(43817),u=n(30985),d=n(8037),p=n(62443),f=n(14457),m=n(21849);function h(e){return(0,m.Ay)("MuiCircularProgress",e)}(0,f.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var v=n(37876);function g(){let e=(0,r._)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return g=function(){return e},e}function x(){let e=(0,r._)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: -126px;\n  }\n"]);return x=function(){return e},e}function y(){let e=(0,r._)(["\n        animation: "," 1.4s linear infinite;\n      "]);return y=function(){return e},e}function A(){let e=(0,r._)(["\n        animation: "," 1.4s ease-in-out infinite;\n      "]);return A=function(){return e},e}let k=(0,s.i7)(g()),w=(0,s.i7)(x()),b="string"!=typeof k?(0,s.AH)(y(),k):null,M="string"!=typeof w?(0,s.AH)(A(),w):null,S=(0,l.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat((0,d.A)(n.color))]]}})((0,c.A)(e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:b||{animation:"".concat(k," 1.4s linear infinite")}},...Object.entries(t.palette).filter((0,p.A)()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})]}})),_=(0,l.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),j=(0,l.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.circle,t["circle".concat((0,d.A)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((0,c.A)(e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:M||{animation:"".concat(w," 1.4s ease-in-out infinite")}}]}})),D=i.forwardRef(function(e,t){let n=(0,u.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:s=!1,size:l=40,style:c,thickness:p=3.6,value:f=0,variant:m="indeterminate",...g}=n,x={...n,color:i,disableShrink:s,size:l,thickness:p,value:f,variant:m},y=(e=>{let{classes:t,variant:n,color:r,disableShrink:i}=e,a={root:["root",n,"color".concat((0,d.A)(r))],svg:["svg"],circle:["circle","circle".concat((0,d.A)(n)),i&&"circleDisableShrink"]};return(0,o.A)(a,h,t)})(x),A={},k={},w={};if("determinate"===m){let e=2*Math.PI*((44-p)/2);A.strokeDasharray=e.toFixed(3),w["aria-valuenow"]=Math.round(f),A.strokeDashoffset="".concat(((100-f)/100*e).toFixed(3),"px"),k.transform="rotate(-90deg)"}return(0,v.jsx)(S,{className:(0,a.A)(y.root,r),style:{width:l,height:l,...k,...c},ownerState:x,ref:t,role:"progressbar",...w,...g,children:(0,v.jsx)(_,{className:y.svg,ownerState:x,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44),children:(0,v.jsx)(j,{className:y.circle,style:A,ownerState:x,cx:44,cy:44,r:(44-p)/2,fill:"none",strokeWidth:p})})})})},74110:(e,t,n)=>{"use strict";n.d(t,{zA:()=>s,_U:()=>i,$t:()=>f});var r=n(20622);function i(e){return e instanceof Date?e:e?(0,r.H)(e):void 0}var a=n(63253),o=n(21175);function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["hours","minutes","seconds"],r={xSeconds:"{{count}}",xMinutes:"{{count}}",xHours:"{{count}}"},i=(0,a.F)({start:e,end:t});return(0,o.a)(i,{format:n,locale:{formatDistance:(e,t)=>{var n,i;return null!=(i=null==(n=r[e])?void 0:n.replace("{{count}}",null==t?void 0:t.toString().padStart(2,"0")))?i:""}},delimiter:":",zero:!0}).replace(/^0(\d)/,"$1")}var l=n(14232),c=n(67009),u=n(12858),d=n(10887);function p(e){let{player:t,campaign:n}=e;if(!t||!n||!n.gmInspiration&&t.isGM||"none"===n.cooldownType)return 0;let r=i("player"===n.cooldownType?t.lastInspirationUsed:n.lastInspirationUsed),a=(0,u.z)(r,n.cooldownTime);return a>new Date?(0,d.O)(a,new Date):0}function f(e){var t;let{player:n,campaign:r}=e,[i,a]=(0,l.useState)(p({player:n,campaign:r}));return(0,l.useEffect)(()=>{a(p({player:n,campaign:r}))},[n,r]),(0,c.A)(()=>{a(p({player:n,campaign:r}))},r&&"none"===r.cooldownType?null:1e3),{cooldownTimeRemaining:i,percentComplete:Math.round(i/((null!=(t=null==r?void 0:r.cooldownTime)?t:0)*60)*100),formattedDuration:(0,o.a)({hours:Math.trunc(i/60/60),minutes:Math.trunc(i/60%60),seconds:Math.trunc(i%60)},{format:["hours","minutes","seconds"]})}}},91242:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/[campaignId]/overlay/inspiration",function(){return n(58855)}])}},e=>{e.O(0,[231,587,636,593,792],()=>e(e.s=91242)),_N_E=e.O()}]);